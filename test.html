<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stacked Testimonials Carousel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .testimonial {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            max-width: 400px;
            transform: translate(-50%, -50%) scale(0.7);

            transition: transform 0.7s ease, opacity 0.7s ease, z-index 0.7s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            z-index: 5;
        }

        .left1 {
            transform: translate(-120%, -50%) scale(0.8);
            z-index: 4;
        }

        .left2 {
            transform: translate(-150%, -50%) scale(0.7);
            z-index: 3;
        }

        .right1 {
            transform: translate(20%, -50%) scale(0.8);
            z-index: 4;
        }

        .right2 {
            transform: translate(50%, -50%) scale(0.7);
            z-index: 3;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
            z-index: 1;
        }
    </style>
</head>

<div
    class="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen  justify-center items-center relative overflow-hidden flex flex-col ">

    <div class="relative w-full max-w-6xl h-[500px]">
        <div id="testimonial-container" class="relative w-full h-full"></div>
    </div>
    <div class="flex justify-center mt-6">
        <button id="prevBtn"
            class="p-3 rounded-full bg-white mr-4 shadow-lg text-cyan-600 hover:bg-cyan-500 hover:text-white transition">
            <!-- Heroicon: Chevron Left -->
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <div id="dots" class="mt-6 flex gap-2"></div>
        <button id="nextBtn"
            class="p-3 rounded-full bg-white ml-4 shadow-lg text-cyan-600 hover:bg-cyan-500 hover:text-white transition">
            <!-- Heroicon: Chevron Right -->
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </button>

    </div>


    <script>
        const students = [
            { name: "Alice Johnson", role: "Web Developer", photo: "https://randomuser.me/api/portraits/women/44.jpg", review: "This course changed my life! I now work at a top tech company." },
            { name: "David Smith", role: "UI/UX Designer", photo: "https://randomuser.me/api/portraits/men/32.jpg", review: "Amazing! I built my portfolio and got hired fast." },
            { name: "Sophia Lee", role: "Frontend Engineer", photo: "https://randomuser.me/api/portraits/women/68.jpg", review: "I’m now confident in HTML, Tailwind, and JavaScript!" },
            { name: "Michael Brown", role: "Full Stack Developer", photo: "https://randomuser.me/api/portraits/men/75.jpg", review: "The teaching was incredible. Highly recommended!" },
            { name: "Emily Davis", role: "Backend Developer", photo: "https://randomuser.me/api/portraits/women/21.jpg", review: "Helped me get my first developer job!" },
            { name: "John Wilson", role: "React Developer", photo: "https://randomuser.me/api/portraits/men/22.jpg", review: "Built my dream portfolio!" },
            { name: "Sophia Miller", role: "Designer", photo: "https://randomuser.me/api/portraits/women/30.jpg", review: "I can now design beautiful interfaces." },
            { name: "Chris Taylor", role: "Software Engineer", photo: "https://randomuser.me/api/portraits/men/45.jpg", review: "A complete game-changer for my career." },
            { name: "Olivia Moore", role: "App Developer", photo: "https://randomuser.me/api/portraits/women/55.jpg", review: "Now I create amazing mobile apps." },
            { name: "Daniel Anderson", role: "Tech Lead", photo: "https://randomuser.me/api/portraits/men/60.jpg", review: "I lead a team thanks to these skills." }
        ];

        const container = document.getElementById('testimonial-container');

        // Dynamically generate testimonial cards
        students.forEach(student => {
            const card = document.createElement('div');
            card.className = 'testimonial bg-white p-6 rounded-lg text-center';
            card.innerHTML = `
      <div>
        <img src="${student.photo}" alt="${student.name}" 
              class="w-24 h-24 mx-auto rounded-full border-4 border-cyan-400 shadow-lg">
                <div class="absolute top-0 right-0 bg-cyan-500 text-white text-xs px-2 py-1 rounded-bl-lg">
                    ★
                </div>
        <h3 class="mt-4 text-lg font-semibold text-gray-800">${student.name}</h3>
            <p class="text-sm text-cyan-600 font-medium mb-2">${student.role}</p>
            <p class="text-gray-600 italic">“${student.review}”</p>
      `;
            container.appendChild(card);

        });

        const testimonials = container.querySelectorAll('.testimonial');
        let current = 0;

        function updateTestimonials() {
            testimonials.forEach((item, index) => {
                item.classList.remove('active', 'left1', 'left2', 'right1', 'right2', 'hidden');

                if (index === current) {
                    item.classList.add('active');
                } else if (index === (current - 1 + testimonials.length) % testimonials.length) {
                    item.classList.add('left1');
                } else if (index === (current - 2 + testimonials.length) % testimonials.length) {
                    item.classList.add('left2');
                } else if (index === (current + 1) % testimonials.length) {
                    item.classList.add('right1');
                } else if (index === (current + 2) % testimonials.length) {
                    item.classList.add('right2');
                } else {
                    item.classList.add('hidden');
                }
            });
        }


        function updateDots(current) {
            const dotsContainer = document.getElementById('dots');
            dotsContainer.innerHTML = '';
            testimonials.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.className = 'w-3 h-3  rounded-full cursor-pointer';
                if (index === current) {
                    dot.classList.add('bg-cyan-500');
                    console.log(`Current dot: ${index}`);
                } else {
                    dot.classList.add('bg-gray-400');
                }
                dot.addEventListener('click', () => {
                    current = index;
                    updateTestimonials();
                    updateDots();
                });
                dotsContainer.appendChild(dot);
            });
        }


        function autoSlide() {
            current = (current + 1) % testimonials.length;
            updateTestimonials();
            updateDots(current);
        }


        document.getElementById('prevBtn').addEventListener('click', () => {
            current = (current - 1 + testimonials.length) % testimonials.length;
            updateTestimonials();
            updateDots(current);
            resetAutoSlide(); // Reset auto-slide timer on manual navigation
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            current = (current + 1) % testimonials.length;
            updateTestimonials();
            updateDots(current);
            resetAutoSlide(); // Reset auto-slide timer on manual navigation
        });

        let autoSlideTimer = setInterval(autoSlide, 3500); // Start auto-slide

        function resetAutoSlide() {
            clearInterval(autoSlideTimer); // Stop current timer
            autoSlideTimer = setInterval(autoSlide, 3500); // Restart
        }


        updateTestimonials();
        updateDots(current);
    </script>

</div>

</html>